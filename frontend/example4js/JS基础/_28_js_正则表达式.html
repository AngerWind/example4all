<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <script type="text/javascript">
        /**
         * 创建一个正则表达式, 可以传递两个参数
         * 第一个: 正则表达式
         * 第二个: 匹配模式, 可以是
         *                      i: 忽略大小写
         *                      g: 全局匹配模式
         */
        var reg = new RegExp("a|b")

        // 正则表达式是否匹配到内容, 匹配到返回true, 否则false
        var result = reg.test("fsad")

        // 使用字面量创建正则表达式, 语法: /正则表达式/匹配模式
        var reg = /a/i
    </script>

    <!-- 正则表达式语法 -->
    <script type="text/javascript">
        /**
         * 量词: 匹配出现次数
         *      {n}: 正好出现n次
         *      {n,}: 至少n次, >=n
         *      {n,m}: 至少n次,至多m次,   >=n, <=m
         *      *: 等效于{0,}
         *      +: 等效于{1,}
         *      ?: 等效于{0,1}
         */
        console.log("aaa aa a abc".match(/[a-z]{3}/ig)) // ['aaa', 'abc'], 匹配所有的出现3次字母
        console.log("-------------------------------------------------")

        /**
         * 字符边界: 
         * ^: 匹配字符串开始
         * $: 匹配字符串结束
         * \b: 匹配这样一个位置, 这个位置左右两边不全是\w
         */
        console.log("aa xxx aa".match(/^a.*a$/ig)) // 匹配以a开头, 以a结尾, 中间有任意个非回车换行字符
        console.log("fence*fen&fens fena fenxx".match(/\bfen\b/)) // 匹配fen, 并且两边都是字符边界
        "|fee|*|fen|&|fens| |fena| |fenxx|"

        /**
         * \d  匹配一个数字, 等效于[0-9]
         * \D  匹配一个非数字字符, 等效于[^ 0-9]     
         * .   匹配\r(回车符)\n(换行符)之外任意字符, 若要匹配任意字符请使用[\s\S], 如果需要匹配点号, 需要使用转义字符\.
         * \w  匹配一个数字字母下划线, 等效于[a.js-zA-Z0-9_]
         * \W  匹配一个非字符类, 等效于\[^a.js-zA-Z0-9_]
         * \s  匹配一个空白字符, 包括空格, Tab, 换页符, 回车, 等效于[\f\n\r\t\v]
         * \S  匹配一个非空白字符 
         * \n  匹配一个换行符  
         * \r  匹配一个回车符   
         * \t  匹配一个制表符((Tab) 
         * \v  匹配一个垂直制表符 
         * \f  匹配一个换页符   
         */

        /**
         * 字符匹配:
         * .: *匹配\r(回车符)\n(换行符)之外任意字符, 如果需要匹配点号, 需要使用转义字符\.
         */
        console.log("aa xxx aa".match(/^a.*a$/ig)) // 匹配以a开头, 以a结尾, 中间有任意个非回车换行字符


    </script>

    <!-- 支持正则表达式的string方法 -->
    <script type="text/javascript">
        // split, 按照正则表达式切割
        var str = "1k2k3k4k45k5k6j4";
        console.log(str.split(/[a-zA-Z]/)) // 按照字母切割

        // search, 查找匹配正则表达式的内容, 返回第一次找到的索引位置, 不能使用全局匹配
        console.log("xbc adc afc axc".search(/a[a-z]c/)) // 4, 返回的是索引位置

        // match, 查找匹配正则表达式的内容, 返回内容
        console.log("xbc adc afc axc".match(/a[a-z]c/)) // adc, 返回array, 只匹配到第一个就停止了
        console.log("xbc adc afc axc".match(/a[a-z]c/g)) // adc,afc,axc, 使用g表示全局匹配, 即匹配出所有内容, 返回array

        // replace, 替换指定内容, 第一个参数表示被替换内容, 可以是正则, 第二个是新的内容
        console.log("xbc aIc aXc axc".replace(/a[a-z]/i, "xxx")) // xbc xxxc aXc axc, 默认替换到第一个就停止了, i表示忽略大小写
        console.log("xbc aIc aXc axc".replace(/a[a-z]/ig, "xxx")) // xbc xxxc xxxc xxxc, g表示全局匹配, 即替换掉所有内容, i表示忽略大小写
    </script>
</head>

</html>